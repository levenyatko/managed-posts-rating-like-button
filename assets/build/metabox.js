(()=>{"use strict";const e=window.wp.plugins,t=window.wp.i18n,n=window.wp.editPost,i=window.wp.element,s=window.wp.components,a=window.ReactJSXRuntime,r=()=>{const[e,r]=(0,i.useState)(0),[l,d]=(0,i.useState)(0),[o,p]=(0,i.useState)("");(0,i.useEffect)(()=>{d(wp.data.select("core/editor").getEditedPostAttribute("meta").mpr_score)},[d]);const c=wp.data.select("core/editor").getCurrentPostId();return(0,a.jsxs)(n.PluginDocumentSettingPanel,{name:"mpr-panel",title:(0,t.__)("Rating: ","mpr-likebtn")+l,className:"mpr-panel",children:[(0,a.jsx)(s.TextControl,{type:"number",label:(0,t.__)("Add Rating","mpr-likebtn"),value:e,onChange:r}),(0,a.jsx)(s.Button,{className:"button button-medium",onClick:function(n){if(""===e)return void p((0,t.__)("Please, check filled fields","mpr-likebtn"));let i=parseInt(e);wp.apiRequest({path:"mpr/v1/custom-rate",method:"POST",data:{id:c,rate:i}}).then(e=>{e.success&&(r(0),d(e.new_rating)),p(e.message)})},children:(0,t.__)("Add","mpr-likebtn")}),(0,a.jsx)("p",{className:"mpr-add-rating-result",children:o})]})};(0,e.registerPlugin)("mprating",{render:()=>(0,a.jsx)(r,{label:"Rating"})})})();