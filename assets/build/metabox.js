(()=>{"use strict";const e=window.wp.element,t=window.wp.plugins,n=window.wp.i18n,a=window.wp.editPost,r=window.wp.components,i=()=>{const[t,i]=(0,e.useState)(0),[l,s]=(0,e.useState)(0),[o,m]=(0,e.useState)("");(0,e.useEffect)((()=>{s(wp.data.select("core/editor").getEditedPostAttribute("meta").mpr_score)}),[s]);const c=wp.data.select("core/editor").getCurrentPostId();return(0,e.createElement)(a.PluginDocumentSettingPanel,{name:"mpr-panel",title:(0,n.__)("Rating: ","mpr-likebtn")+l,className:"mpr-panel"},(0,e.createElement)(r.TextControl,{type:"number",label:(0,n.__)("Add Rating","mpr-likebtn"),value:t,onChange:i}),(0,e.createElement)(r.Button,{className:"button button-medium",onClick:function(e){if(""===t)return void m((0,n.__)("Please, check filled fields","mpr-likebtn"));let a=parseInt(t);wp.apiRequest({path:"mpr/v1/custom-rate",method:"POST",data:{id:c,rate:a}}).then((e=>{e.success&&(i(0),s(e.new_rating)),m(e.message)}))}},(0,n.__)("Add","mpr-likebtn")),(0,e.createElement)("p",{className:"mpr-add-rating-result"},o))};(0,t.registerPlugin)("mprating",{render:()=>(0,e.createElement)(i,{label:"Rating"})})})();