(()=>{"use strict";const e=window.React,t=window.wp.plugins,n=window.wp.i18n,a=window.wp.editPost,r=window.wp.element,i=window.wp.components,l=()=>{const[t,l]=(0,r.useState)(0),[s,o]=(0,r.useState)(0),[m,c]=(0,r.useState)("");(0,r.useEffect)((()=>{o(wp.data.select("core/editor").getEditedPostAttribute("meta").mpr_score)}),[o]);const d=wp.data.select("core/editor").getCurrentPostId();return(0,e.createElement)(a.PluginDocumentSettingPanel,{name:"mpr-panel",title:(0,n.__)("Rating: ","mpr-likebtn")+s,className:"mpr-panel"},(0,e.createElement)(i.TextControl,{type:"number",label:(0,n.__)("Add Rating","mpr-likebtn"),value:t,onChange:l}),(0,e.createElement)(i.Button,{className:"button button-medium",onClick:function(e){if(""===t)return void c((0,n.__)("Please, check filled fields","mpr-likebtn"));let a=parseInt(t);wp.apiRequest({path:"mpr/v1/custom-rate",method:"POST",data:{id:d,rate:a}}).then((e=>{e.success&&(l(0),o(e.new_rating)),c(e.message)}))}},(0,n.__)("Add","mpr-likebtn")),(0,e.createElement)("p",{className:"mpr-add-rating-result"},m))};(0,t.registerPlugin)("mprating",{render:()=>(0,e.createElement)(l,{label:"Rating"})})})();